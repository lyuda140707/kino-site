<footer class="footer-mini">
  <p>¬© 2025 KinoSite ‚Ä¢ –í—Å—ñ –ø—Ä–∞–≤–∞ –∑–∞—Ö–∏—â–µ–Ω—ñ üôÇ</p>
  <div class="footer-buttons">
    <button class="btn btn-ghost" id="openContact">üì© –ö–æ–Ω—Ç–∞–∫—Ç–∏</button>
    <button class="btn btn-ghost" id="openRights">‚öñÔ∏è –ü—Ä–∞–≤–æ–≤–ª–∞—Å–Ω–∏–∫–∞–º</button>
  </div>
</footer>

<!-- === –ú–û–î–ê–õ–ö–ê: –ö–æ–Ω—Ç–∞–∫—Ç–∏ === -->
<div id="contactModal" class="modal">
  <div class="modal-content">
    <h3>üì© –ö–æ–Ω—Ç–∞–∫—Ç–∏</h3>
    <p class="muted">–ú–∞—î—Ç–µ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—é –∞–±–æ –ø–∏—Ç–∞–Ω–Ω—è? –ù–∞–ø–∏—à—ñ—Ç—å –Ω–∞–º:</p>
    <form id="contactForm">
      <input type="text" id="contactName" placeholder="–í–∞—à–µ —ñ–º º—è" required>
      <textarea id="contactMsg" placeholder="–í–∞—à–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è" required></textarea>
      <button type="submit" class="btn btn-primary">–ù–∞–¥—ñ—Å–ª–∞—Ç–∏</button>
      <button type="button" class="btn btn-ghost" id="closeContact">–ó–∞–∫—Ä–∏—Ç–∏</button>
    </form>
    <p id="contactStatus" class="status-text"></p>
  </div>
</div>

<!-- === –ú–û–î–ê–õ–ö–ê: –ü—Ä–∞–≤–æ–≤–ª–∞—Å–Ω–∏–∫–∞–º === -->
<div id="rightsModal" class="modal">
  <div class="modal-content">
    <h3>‚öñÔ∏è –ü—Ä–∞–≤–æ–≤–ª–∞—Å–Ω–∏–∫–∞–º</h3>
    <p>
      –£—Å—ñ –º–∞—Ç–µ—Ä—ñ–∞–ª–∏ –Ω–∞ —Å–∞–π—Ç—ñ <b>KinoSite</b> –ø—É–±–ª—ñ–∫—É—é—Ç—å—Å—è –∑ –≤—ñ–¥–∫—Ä–∏—Ç–∏—Ö –¥–∂–µ—Ä–µ–ª —ñ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω—ñ –ª–∏—à–µ –¥–ª—è –æ–∑–Ω–∞–π–æ–º–ª–µ–Ω–Ω—è.
      –ú–∏ –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—î–º–æ —Ñ–∞–π–ª–∏ –Ω–∞ –Ω–∞—à–∏—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö. –Ø–∫—â–æ –≤–∏ —î –ø—Ä–∞–≤–æ–≤–ª–∞—Å–Ω–∏–∫–æ–º —ñ –≤–≤–∞–∂–∞—î—Ç–µ, —â–æ —è–∫–∏–π—Å—å –∫–æ–Ω—Ç–µ–Ω—Ç –ø–æ—Ä—É—à—É—î –≤–∞—à—ñ –ø—Ä–∞–≤–∞ ‚Äî
      –∑–∞–ø–æ–≤–Ω—ñ—Ç—å —Ñ–æ—Ä–º—É –Ω–∏–∂—á–µ, —ñ –º–∏ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ —Ä–æ–∑–≥–ª—è–Ω–µ–º–æ –∑–≤–µ—Ä–Ω–µ–Ω–Ω—è.
    </p>
    <form id="dmcaForm">
      <input type="text" id="dmcaName" placeholder="–í–∞—à–µ —ñ–º º—è –∞–±–æ –∫–æ–º–ø–∞–Ω—ñ—è" required>
      <input type="email" id="dmcaEmail" placeholder="–í–∞—à email –¥–ª—è –∑–≤ º—è–∑–∫—É" required>
      <textarea id="dmcaDetails" placeholder="–û–ø–∏—à—ñ—Ç—å —Å—É—Ç—å –ø–æ—Ä—É—à–µ–Ω–Ω—è –∞–±–æ –≤—Å—Ç–∞–≤—Ç–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è" required></textarea>
      <button type="submit" class="btn btn-primary">–ù–∞–¥—ñ—Å–ª–∞—Ç–∏ —Å–∫–∞—Ä–≥—É</button>
      <button type="button" class="btn btn-ghost" id="closeRights">–ó–∞–∫—Ä–∏—Ç–∏</button>
    </form>
    <p id="dmcaStatus" class="status-text"></p>
  </div>
</div>
<script>
document.addEventListener("DOMContentLoaded", () => {
  const BACKEND_URL = "https://script.google.com/macros/s/AKfycbxW2_rhnZ2Q8a7BQJJA89Ij_65tKSmf6gr8XmOIE9Au0i_BQVv_6PS0xx5sWgKYQ16J/exec";

  const contactModal = document.getElementById("contactModal");
  const rightsModal = document.getElementById("rightsModal");

  // –í—ñ–¥–∫—Ä–∏—Ç—Ç—è / –∑–∞–∫—Ä–∏—Ç—Ç—è
  document.getElementById("openContact")?.addEventListener("click", () => contactModal.style.display = "flex");
  document.getElementById("openRights")?.addEventListener("click", () => rightsModal.style.display = "flex");
  document.getElementById("closeContact")?.addEventListener("click", () => contactModal.style.display = "none");
  document.getElementById("closeRights")?.addEventListener("click", () => rightsModal.style.display = "none");
  window.addEventListener("click", (e) => {
    if (e.target === contactModal) contactModal.style.display = "none";
    if (e.target === rightsModal) rightsModal.style.display = "none";
  });

  // –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞ —Ñ–æ—Ä–º–∞
  document.getElementById("contactForm")?.addEventListener("submit", async (e) => {
    e.preventDefault();
    const name = document.getElementById("contactName").value.trim();
    const msg = document.getElementById("contactMsg").value.trim();
    const statusEl = document.getElementById("contactStatus");
    statusEl.innerText = "‚è≥ –í—ñ–¥–ø—Ä–∞–≤–ª—è—é...";
    try {
      const res = await fetch(BACKEND_URL, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ source: "contact_form", name, message: msg })
      });
      const data = await res.json();
      if (data.ok) {
        statusEl.innerText = "‚úÖ –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ!";
        e.target.reset();
      } else throw new Error();
    } catch {
      statusEl.innerText = "‚ùå –ù–µ –≤–¥–∞–ª–æ—Å—è –≤—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏. –°–ø—Ä–æ–±—É–π—Ç–µ –ø—ñ–∑–Ω—ñ—à–µ.";
    }
  });

  // –§–æ—Ä–º–∞ –¥–ª—è –ø—Ä–∞–≤–æ–≤–ª–∞—Å–Ω–∏–∫—ñ–≤
  document.getElementById("dmcaForm")?.addEventListener("submit", async (e) => {
    e.preventDefault();
    const name = document.getElementById("dmcaName").value.trim();
    const email = document.getElementById("dmcaEmail").value.trim();
    const details = document.getElementById("dmcaDetails").value.trim();
    const statusEl = document.getElementById("dmcaStatus");
    statusEl.innerText = "‚è≥ –í—ñ–¥–ø—Ä–∞–≤–ª—è—é...";
    try {
      const res = await fetch(BACKEND_URL, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ source: "dmca_form", name, email, message: details })
      });
      const data = await res.json();
      if (data.ok) {
        statusEl.innerText = "‚úÖ –ó–∞–ø–∏—Ç –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ! –ú–∏ –∑–≤‚Äô—è–∂–µ–º–æ—Å—è –Ω–∞–π–±–ª–∏–∂—á–∏–º —á–∞—Å–æ–º.";
        e.target.reset();
      } else throw new Error();
    } catch {
      statusEl.innerText = "‚ùå –ù–µ –≤–¥–∞–ª–æ—Å—è –≤—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏. –°–ø—Ä–æ–±—É–π—Ç–µ –ø—ñ–∑–Ω—ñ—à–µ.";
    }
  });
});
</script>
