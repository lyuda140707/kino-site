<!-- === FOOTER === -->
<footer class="footer-mini">
  <p>¬© 2025 KinoSite. –í—Å—ñ –ø—Ä–∞–≤–∞ –∑–∞—Ö–∏—â–µ–Ω—ñ :)</p>

  <div class="footer-buttons">
    <button id="openContact" class="btn btn-ghost">üì© –ö–æ–Ω—Ç–∞–∫—Ç–∏</button>
    <button id="openRights" class="btn btn-ghost">‚öñÔ∏è –ü—Ä–∞–≤–æ–≤–ª–∞—Å–Ω–∏–∫–∞–º</button>
  </div>
</footer>

<!-- === –ú–û–î–ê–õ–ö–ê: –ö–æ–Ω—Ç–∞–∫—Ç–∏ === -->
<div id="contactModal" class="modal">
  <div class="modal-content">
    <h3>üì© –ö–æ–Ω—Ç–∞–∫—Ç–∏</h3>
    <p>–ú–∞—î—Ç–µ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—é –∞–±–æ –ø–∏—Ç–∞–Ω–Ω—è? –ù–∞–ø–∏—à—ñ—Ç—å –Ω–∞–º:</p>
    <form id="contactForm">
      <input type="text" id="contactName" placeholder="–í–∞—à–µ —ñ–º‚Äô—è" required>
      <textarea id="contactMsg" placeholder="–í–∞—à–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è" required></textarea>
      <button type="submit" class="btn btn-primary">–ù–∞–¥—ñ—Å–ª–∞—Ç–∏</button>
      <button type="button" class="btn btn-ghost" id="closeContact">–ó–∞–∫—Ä–∏—Ç–∏</button>
    </form>
    <p id="contactStatus" class="status-text"></p>
  </div>
</div>

<!-- === –ú–û–î–ê–õ–ö–ê: –ü—Ä–∞–≤–æ–≤–ª–∞—Å–Ω–∏–∫–∞–º === -->
<div id="rightsModal" class="modal">
  <div class="modal-content">
    <h3>‚öñÔ∏è –ü—Ä–∞–≤–æ–≤–ª–∞—Å–Ω–∏–∫–∞–º</h3>
    <p>
      –£—Å—ñ –º–∞—Ç–µ—Ä—ñ–∞–ª–∏ –Ω–∞ —Å–∞–π—Ç—ñ <b>KinoSite</b> –ø—É–±–ª—ñ–∫—É—é—Ç—å—Å—è –∑ –≤—ñ–¥–∫—Ä–∏—Ç–∏—Ö –¥–∂–µ—Ä–µ–ª —ñ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω—ñ –ª–∏—à–µ –¥–ª—è –æ–∑–Ω–∞–π–æ–º–ª–µ–Ω–Ω—è.
      –ú–∏ –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—î–º–æ —Ñ–∞–π–ª–∏ –Ω–∞ –Ω–∞—à–∏—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö. –Ø–∫—â–æ –≤–∏ —î –ø—Ä–∞–≤–æ–≤–ª–∞—Å–Ω–∏–∫–æ–º —ñ –≤–≤–∞–∂–∞—î—Ç–µ, —â–æ –ø–µ–≤–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç –ø–æ—Ä—É—à—É—î –≤–∞—à—ñ –ø—Ä–∞–≤–∞ ‚Äî
      –∑–∞–ø–æ–≤–Ω—ñ—Ç—å —Ñ–æ—Ä–º—É –Ω–∏–∂—á–µ, —ñ –º–∏ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ —Ä–æ–∑–≥–ª—è–Ω–µ–º–æ –∑–≤–µ—Ä–Ω–µ–Ω–Ω—è.
    </p>
    <form id="dmcaForm">
      <input type="text" id="dmcaName" placeholder="–í–∞—à–µ —ñ–º‚Äô—è –∞–±–æ –∫–æ–º–ø–∞–Ω—ñ—è" required>
      <input type="email" id="dmcaEmail" placeholder="–í–∞—à email –¥–ª—è –∑–≤‚Äô—è–∑–∫—É" required>
      <textarea id="dmcaDetails" placeholder="–û–ø–∏—à—ñ—Ç—å —Å—É—Ç—å –ø–æ—Ä—É—à–µ–Ω–Ω—è –∞–±–æ –≤—Å—Ç–∞–≤—Ç–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è" required></textarea>
      <button type="submit" class="btn btn-primary">–ù–∞–¥—ñ—Å–ª–∞—Ç–∏ —Å–∫–∞—Ä–≥—É</button>
      <button type="button" class="btn btn-ghost" id="closeRights">–ó–∞–∫—Ä–∏—Ç–∏</button>
    </form>
    <p id="dmcaStatus" class="status-text"></p>
  </div>
</div>

<!-- === JS –¥–ª—è –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è/–∑–∞–∫—Ä–∏—Ç—Ç—è === -->
<script>
const BACKEND_URL = "https://relax-time2.onrender.com";

const contactModal = document.getElementById("contactModal");
const rightsModal = document.getElementById("rightsModal");

document.getElementById("openContact").onclick = () => contactModal.style.display = "flex";
document.getElementById("openRights").onclick = () => rightsModal.style.display = "flex";
document.getElementById("closeContact").onclick = () => contactModal.style.display = "none";
document.getElementById("closeRights").onclick = () => rightsModal.style.display = "none";

window.onclick = e => {
  if (e.target === contactModal) contactModal.style.display = "none";
  if (e.target === rightsModal) rightsModal.style.display = "none";
};

document.getElementById("contactForm")?.addEventListener("submit", async (e) => {
  e.preventDefault();
  const name = document.getElementById("contactName").value.trim();
  const msg = document.getElementById("contactMsg").value.trim();
  const statusEl = document.getElementById("contactStatus");
  statusEl.innerText = "‚è≥ –í—ñ–¥–ø—Ä–∞–≤–ª—è—é...";
  try {
    const res = await fetch(`${BACKEND_URL}/notify-payment`, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ source: "contact_form", name, message: msg })
    });
    if (!res.ok) throw new Error();
    statusEl.innerText = "‚úÖ –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ!";
    e.target.reset();
  } catch {
    statusEl.innerText = "‚ùå –ù–µ –≤–¥–∞–ª–æ—Å—è –≤—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏. –°–ø—Ä–æ–±—É–π—Ç–µ –ø—ñ–∑–Ω—ñ—à–µ.";
  }
});

document.getElementById("dmcaForm")?.addEventListener("submit", async (e) => {
  e.preventDefault();
  const name = document.getElementById("dmcaName").value.trim();
  const email = document.getElementById("dmcaEmail").value.trim();
  const details = document.getElementById("dmcaDetails").value.trim();
  const statusEl = document.getElementById("dmcaStatus");
  statusEl.innerText = "‚è≥ –í—ñ–¥–ø—Ä–∞–≤–ª—è—é...";
  try {
    const res = await fetch(`${BACKEND_URL}/notify-payment`, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ source: "dmca_form", name, email, message: details })
    });
    if (!res.ok) throw new Error();
    statusEl.innerText = "‚úÖ –ó–∞–ø–∏—Ç –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ! –ú–∏ –∑–≤‚Äô—è–∂–µ–º–æ—Å—è –Ω–∞–π–±–ª–∏–∂—á–∏–º —á–∞—Å–æ–º.";
    e.target.reset();
  } catch {
    statusEl.innerText = "‚ùå –ù–µ –≤–¥–∞–ª–æ—Å—è –≤—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏. –°–ø—Ä–æ–±—É–π—Ç–µ –ø—ñ–∑–Ω—ñ—à–µ.";
  }
});
</script>
