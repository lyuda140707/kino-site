<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–§—ñ–ª—å–º ‚Äî Relax Kino</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">

  <style>
    /* === –°–¢–ò–õ–¨ –î–õ–Ø –°–¢–û–†–Ü–ù–ö–ò –§–Ü–õ–¨–ú–£ === */
    .film-container {
      display: flex;
      flex-wrap: wrap;
      gap: 40px;
      margin-top: 40px;
      align-items: flex-start;
    }

    .film-left {
      flex: 1;
      min-width: 300px;
      max-width: 360px;
    }

    .film-left img {
      width: 100%;
      border-radius: 12px;
      box-shadow: 0 0 25px rgba(0, 255, 242, 0.3);
      border: 2px solid rgba(0, 255, 242, 0.4);
    }

    .film-meta {
      margin-top: 18px;
      background: #0d0d0d;
      border-radius: 10px;
      padding: 15px 18px;
      border: 1px solid rgba(0,255,242,0.25);
      box-shadow: 0 0 25px rgba(0,255,242,0.1);
    }

    .film-meta span {
      display: block;
      color: #bbb;
      margin: 4px 0;
      font-size: 15px;
      line-height: 1.4;
    }

    .film-meta b {
      color: #00fff2;
    }

    .film-right {
      flex: 2;
      min-width: 400px;
    }

    .film-title {
      font-size: 28px;
      color: #00fff2;
      text-shadow: 0 0 18px #00fff2a0;
      margin-bottom: 15px;
      font-weight: 700;
    }

    .player-box {
      position: relative;
      background: #000;
      border-radius: 12px;
      border: 1px solid rgba(0,255,242,0.3);
      overflow: hidden;
      box-shadow: 0 0 30px rgba(0,255,242,0.15);
    }

    video {
      width: 100%;
      height: auto;
      display: block;
      border-radius: 12px;
      aspect-ratio: 16/9;
    }

    .film-description {
      margin-top: 25px;
      background: #1a1a1a;
      border-radius: 12px;
      border: 1px solid rgba(0,255,242,0.2);
      box-shadow: 0 0 30px rgba(0,255,242,0.1);
      padding: 20px 24px;
      color: #ddd;
      font-size: 16px;
      line-height: 1.7;
    }

    footer {
      margin-top: 80px;
    }
  </style>
</head>
<body>

<!-- === HEADER === -->
<header>
  <div class="container topbar">
    <nav class="main-nav">
      <img src="logo.png" alt="Relax Logo" class="nav-logo" />
      <a href="index.html">–ì–æ–ª–æ–≤–Ω–∞</a>
      <a href="#" class="active">–§—ñ–ª—å–º–∏</a>
      <a href="#">–°–µ—Ä—ñ–∞–ª–∏</a>
      <a href="#">–ú—É–ª—å—Ç—Ñ—ñ–ª—å–º–∏</a>
    </nav>
    <div class="top-right">
      <input type="text" placeholder="–ü–æ—à—É–∫‚Ä¶" class="search" />
      <button class="profile-btn">üëë –ú—ñ–π –∫–∞–±—ñ–Ω–µ—Ç</button>
    </div>
  </div>
</header>

<!-- === MAIN === -->
<main>
  <div class="container film-container">
    <div class="film-left">
      <img id="filmPoster" src="" alt="–ü–æ—Å—Ç–µ—Ä">
      <div class="film-meta">
        <span><b>–†—ñ–∫:</b> <span id="filmYear"></span></span>
        <span><b>–ñ–∞–Ω—Ä:</b> <span id="filmGenre"></span></span>
        <span><b>–ö—Ä–∞—ó–Ω–∞:</b> <span id="filmCountry"></span></span>
        <span><b>–†–µ–∂–∏—Å–µ—Ä:</b> <span id="filmDirector"></span></span>
        <span><b>–í —Ä–æ–ª—è—Ö:</b> <span id="filmCast"></span></span>
        <span><b>–ó–≤—É–∫:</b> <span id="filmSound"></span></span>
        <span><b>–¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å:</b> <span id="filmDuration"></span></span>
        <span><b>–í—ñ–∫:</b> <span id="filmAge"></span></span>
      </div>
    </div>

    <div class="film-right">
      <div class="film-title" id="filmTitle">–ù–∞–∑–≤–∞ —Ñ—ñ–ª—å–º—É</div>
      <div class="player-box">
        <video id="filmPlayer" controls autoplay muted playsinline></video>
      </div>
      <div class="film-description">
        <h3>–ü—Ä–æ —â–æ —Ñ—ñ–ª—å–º:</h3>
        <p id="filmDesc">–û–ø–∏—Å —Ñ—ñ–ª—å–º—É...</p>
      </div>
    </div>
  </div>
</main>

<!-- === FOOTER === -->
<footer>
  ¬© 2025 KinoSite ‚Ä¢ –£—Å—ñ –ø—Ä–∞–≤–∞ –∑–∞—Ö–∏—â–µ–Ω—ñ
</footer>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
  const supabaseUrl = "https://zerlqvbmqszomlondlte.supabase.co";
  const supabaseKey = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InplcmxxdmJtcXN6b21sb25kbHRlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUzMzg3NzQsImV4cCI6MjA3MDkxNDc3NH0.8wUBYIeQRC6KVp6vdzv0oqofIf4PeZyzbV5GcD0vxTE";
  const supabase = supabase.createClient(supabaseUrl, supabaseKey);

  async function loadFilm() {
    const params = new URLSearchParams(window.location.search);
    const id = params.get("id");
    if (!id) return;

    const { data, error } = await supabase
      .from("films_site")
      .select("*")
      .eq("id", id)
      .single();

    if (error || !data) {
      document.body.innerHTML = "<h2 style='color:white;text-align:center;margin-top:100px;'>–§—ñ–ª—å–º –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ</h2>";
      return;
    }

    document.getElementById("filmPoster").src = data.poster;
    document.getElementById("filmTitle").textContent = data.title;
    document.getElementById("filmDesc").textContent = data.description || "–û–ø–∏—Å –≤—ñ–¥—Å—É—Ç–Ω—ñ–π";
    document.getElementById("filmYear").textContent = data.year || "‚Äî";
    document.getElementById("filmGenre").textContent = data.genre || "‚Äî";
    document.getElementById("filmCountry").textContent = data.country || "‚Äî";
    document.getElementById("filmDirector").textContent = data.director || "‚Äî";
    document.getElementById("filmCast").textContent = data.cast || "‚Äî";
    document.getElementById("filmSound").textContent = data.sound || "‚Äî";
    document.getElementById("filmDuration").textContent = data.duration || "‚Äî";
    document.getElementById("filmAge").textContent = data.age || "‚Äî";

    const video = document.getElementById("filmPlayer");
    video.src = data.stream_url || "";
  }

  loadFilm();
</script>
</body>
</html>
