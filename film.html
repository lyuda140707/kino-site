<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–§—ñ–ª—å–º ‚Äî Relax Kino</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">

  <style>
    /* === –°–¢–ò–õ–¨ –î–õ–Ø –°–¢–û–†–Ü–ù–ö–ò –§–Ü–õ–¨–ú–£ === */
    .film-container {
      display: flex;
      flex-wrap: wrap;
      gap: 40px;
      margin-top: 40px;
      align-items: flex-start;
    }

    .film-left {
      flex: 1;
      min-width: 300px;
      max-width: 360px;
    }

/* üñºÔ∏è –§–æ—Ç–æ –ø–æ—Å—Ç–µ—Ä–∞ —Ñ—ñ–ª—å–º—É (–Ω–∞ 5% –±—ñ–ª—å—à–µ) */
.film-left img {
  width: 95%;              /* –±—É–ª–æ 90%, —Ç–µ–ø–µ—Ä +5% */
  max-width: 275px;        /* –±—É–ª–æ 260px ‚Äî —Ç–µ–∂ —Ç—Ä–æ—Ö–∏ –∑–±—ñ–ª—å—à–∏–ª–∏ */
  border-radius: 10px;
  margin: 0 auto;
  display: block;
  box-shadow: 0 0 20px rgba(0, 255, 255, 0.25);
  border: 1px solid rgba(0, 255, 255, 0.25);
  transition: transform 0.3s ease;
}

/* –ï—Ñ–µ–∫—Ç –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–Ω—ñ */
.film-left img:hover {
  transform: scale(1.05);
}



/* üé¨ –õ—ñ–≤–∏–π –±–ª–æ–∫ –±–µ–∑ —Ñ–æ–Ω—É, –∞–ª–µ –∑ –æ–∫—Ä–µ–º–∏–º–∏ –ø—ñ–¥—Å–≤—ñ—á–µ–Ω–∏–º–∏ —Ä—è–¥–∫–∞–º–∏ */
.film-meta {
  display: flex;
  flex-direction: column;
  gap: 8px;              /* —Ç—Ä–æ—Ö–∏ –±—ñ–ª—å—à–µ –≤—ñ–¥—Å—Ç–∞–Ω—ñ –º—ñ–∂ —Ä—è–¥–∫–∞–º–∏ */
  margin-top: 12px;
  background: none;      /* –ø—Ä–∏–±—Ä–∞–ª–∏ –ø—ñ–¥—Å–≤—ñ—Ç–∫—É —É—Å—å–æ–≥–æ –±–ª–æ–∫—É */
  box-shadow: none;
  border: none;
}


    .film-meta span {
      display: block;
      color: #bbb;
      margin: 4px 0;
      font-size: 15px;
      line-height: 1.4;
    }

    .film-meta b {
      color: #00fff2;
    }

    .film-right {
      flex: 2;
      min-width: 400px;
    }

    .film-title {
      font-size: 28px;
      color: #00fff2;
      text-shadow: 0 0 18px #00fff2a0;
      margin-bottom: 15px;
      font-weight: 700;
    }

    .player-box {
      position: relative;
      background: #000;
      border-radius: 12px;
      border: 1px solid rgba(0,255,242,0.3);
      overflow: hidden;
      box-shadow: 0 0 30px rgba(0,255,242,0.15);
    }

    video {
      width: 100%;
      height: auto;
      display: block;
      border-radius: 12px;
      aspect-ratio: 16/9;
    }

    .film-description {
      margin-top: 25px;
      background: #1a1a1a;
      border-radius: 12px;
      border: 1px solid rgba(0,255,242,0.2);
      box-shadow: 0 0 30px rgba(0,255,242,0.1);
      padding: 20px 24px;
      color: #ddd;
      font-size: 16px;
      line-height: 1.7;
    }

    footer {
      margin-top: 80px;
    }
  </style>
</head>
<body>

<!-- === HEADER === -->
<header>
  <div class="container topbar">
    <nav class="main-nav">
      <img src="logo.png" alt="Relax Logo" class="nav-logo" />
      <a href="index.html">–ì–æ–ª–æ–≤–Ω–∞</a>
      <a href="#" class="active">–§—ñ–ª—å–º–∏</a>
      <a href="#">–°–µ—Ä—ñ–∞–ª–∏</a>
      <a href="#">–ú—É–ª—å—Ç—Ñ—ñ–ª—å–º–∏</a>
    </nav>
    <div class="top-right">
      <input type="text" placeholder="–ü–æ—à—É–∫‚Ä¶" class="search" />
      <button class="profile-btn">üëë –ú—ñ–π –∫–∞–±—ñ–Ω–µ—Ç</button>
    </div>
  </div>
</header>

<!-- === MAIN === -->
<main>
  <div class="container film-container">
    <div class="film-left">
      <img id="filmPoster" src="" alt="–ü–æ—Å—Ç–µ—Ä">
      <div class="film-meta">
        <span><b>–†—ñ–∫:</b> <span id="filmYear"></span></span>
        <span><b>–ñ–∞–Ω—Ä:</b> <span id="filmGenre"></span></span>
        <span><b>–ö—Ä–∞—ó–Ω–∞:</b> <span id="filmCountry"></span></span>
        <span><b>–†–µ–∂–∏—Å–µ—Ä:</b> <span id="filmDirector"></span></span>
        <span><b>–í —Ä–æ–ª—è—Ö:</b> <span id="filmCast"></span></span>
        <span><b>–ó–≤—É–∫:</b> <span id="filmSound"></span></span>
        <span><b>–¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å:</b> <span id="filmDuration"></span></span>
        <span><b>–í—ñ–∫:</b> <span id="filmAge"></span></span>
        <span><b>IMDb:</b> <span id="filmImdb"></span></span>
      </div>
    </div>

    <div class="film-right">
      <div class="film-title" id="filmTitle">–ù–∞–∑–≤–∞ —Ñ—ñ–ª—å–º—É</div>
      <div class="player-box">
        <video id="filmPlayer" controls autoplay muted playsinline></video>
      </div>
      <div class="film-description">
        <h3>–ü—Ä–æ —â–æ —Ñ—ñ–ª—å–º:</h3>
        <p id="filmDesc">–û–ø–∏—Å —Ñ—ñ–ª—å–º—É...</p>
      </div>
    </div>
  </div>
</main>

<!-- === FOOTER === -->
<footer>
  ¬© 2025 KinoSite ‚Ä¢ –£—Å—ñ –ø—Ä–∞–≤–∞ –∑–∞—Ö–∏—â–µ–Ω—ñ
</footer>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
  const supabaseUrl = "https://zerlqvbmqszomlondlte.supabase.co";
  const supabaseKey = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InplcmxxdmJtcXN6b21sb25kbHRlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUzMzg3NzQsImV4cCI6MjA3MDkxNDc3NH0.8wUBYIeQRC6KVp6vdzv0oqofIf4PeZyzbV5GcD0vxTE";

  // ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç–∞
  const supabase = window.supabase.createClient(supabaseUrl, supabaseKey);

  async function loadFilm() {
    const params = new URLSearchParams(window.location.search);
    const id = params.get("id");
    if (!id) return;

    const { data, error } = await supabase
      .from("films_site")
      .select("*")
      .eq("id", id)
      .single();

    if (error) {
      console.error("‚ùå –ü–æ–º–∏–ª–∫–∞ Supabase:", error.message);
      document.getElementById("filmTitle").textContent = "–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è";
      return;
    }

    if (!data) {
      document.getElementById("filmTitle").textContent = "–§—ñ–ª—å–º –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ";
      return;
    }

    console.log("üé¨ –î–∞–Ω—ñ —Ñ—ñ–ª—å–º—É:", data);

    document.getElementById("filmPoster").src = data.poster || "";
    document.getElementById("filmTitle").textContent = data.title || "";
    document.getElementById("filmDesc").textContent = data.description || "–û–ø–∏—Å –≤—ñ–¥—Å—É—Ç–Ω—ñ–π";
    document.getElementById("filmYear").textContent = data.year || "";
    document.getElementById("filmGenre").textContent = data.genre || "";
    document.getElementById("filmCountry").textContent = data.country || "";
    document.getElementById("filmDirector").textContent = data.director || "";
    document.getElementById("filmCast").textContent = data.cast || "";
    document.getElementById("filmSound").textContent = data.sound || "";
    document.getElementById("filmDuration").textContent = data.duration || "";
    document.getElementById("filmAge").textContent = data.age || "";
    document.getElementById("filmImdb").textContent = data.imdb || "‚Äî";


    const player = document.getElementById("filmPlayer");
    player.src = data.stream_url || "";
  }

  loadFilm();
</script>
</body>
</html>
