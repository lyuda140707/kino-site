<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–§—ñ–ª—å–º ‚Äî Relax Kino</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">

  <style>
    .film-container {
      display: flex;
      flex-wrap: wrap;
      gap: 40px;
      margin-top: 40px;
      align-items: flex-start;
    }
    .film-left {
      flex: 1;
      min-width: 300px;
      max-width: 360px;
    }
    .film-left img {
      width: 95%;
      max-width: 275px;
      border-radius: 10px;
      margin: 0 auto;
      display: block;
      box-shadow: 0 0 20px rgba(0, 255, 255, 0.25);
      border: 1px solid rgba(0, 255, 255, 0.25);
      transition: transform 0.3s ease;
    }
    .film-left img:hover { transform: scale(1.05); }

    .film-meta {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-top: 12px;
      background: none;
      box-shadow: none;
      border: none;
    }
    .film-meta span {
      display: block;
      color: #bbb;
      margin: 4px 0;
      font-size: 15px;
      line-height: 1.4;
    }
    .film-meta b { color: #00fff2; }

    .film-right {
      flex: 2;
      min-width: 400px;
    }
    .film-title {
      font-size: 28px;
      color: #00fff2;
      text-shadow: 0 0 18px #00fff2a0;
      margin-bottom: 15px;
      font-weight: 700;
    }
    .player-box {
      position: relative;
      background: #000;
      border-radius: 12px;
      border: 1px solid rgba(0,255,242,0.3);
      overflow: hidden;
      box-shadow: 0 0 30px rgba(0,255,242,0.15);
    }
    video {
      width: 100%;
      height: auto;
      display: block;
      border-radius: 12px;
      aspect-ratio: 16/9;
    }
    .film-description {
      margin-top: 25px;
      background: #1a1a1a;
      border-radius: 12px;
      border: 1px solid rgba(0,255,242,0.2);
      box-shadow: 0 0 30px rgba(0,255,242,0.1);
      padding: 20px 24px;
      color: #ddd;
      font-size: 16px;
      line-height: 1.7;
    }
    footer { margin-top: 80px; }
  </style>
</head>

<body>
  <!-- === HEADER === -->
  <header>
    <div class="container topbar">
      <nav class="main-nav">
        <img src="logo.png" alt="Relax Logo" class="nav-logo" />
        <a href="index.html">–ì–æ–ª–æ–≤–Ω–∞</a>
        <div class="dropdown">
          <a href="#" class="menu-films">–§—ñ–ª—å–º–∏</a>
          <div class="mega-menu">
            <div class="genres">
              <a href="#">–ë—ñ–æ–≥—Ä–∞—Ñ—ñ—è</a><a href="#">–ë–æ–π–æ–≤–∏–∫</a><a href="#">–í–µ—Å—Ç–µ—Ä–Ω</a>
              <a href="#">–í—ñ–π—Å—å–∫–æ–≤–∏–π</a><a href="#">–î–µ—Ç–µ–∫—Ç–∏–≤</a><a href="#">–î–æ–∫—É–º–µ–Ω—Ç–∞–ª—å–Ω–∏–π</a>
              <a href="#">–î—Ä–∞–º–∞</a><a href="#">–Ü—Å—Ç–æ—Ä—ñ—è</a><a href="#">–ö–æ–º–µ–¥—ñ—è</a>
              <a href="#">–ö—Ä–∏–º—ñ–Ω–∞–ª</a><a href="#">–ú–µ–ª–æ–¥—Ä–∞–º–∞</a><a href="#">–ú—ñ—Å—Ç–∏–∫–∞</a>
              <a href="#">–ú—É–∑–∏–∫–∞</a><a href="#">–ú—é–∑–∏–∫–ª</a><a href="#">–ü—Ä–∏–≥–æ–¥–∏</a>
              <a href="#">–°—ñ–º–µ–π–Ω–∏–π</a><a href="#">–°–ø–æ—Ä—Ç</a><a href="#">–¢—Ä–∏–ª–µ—Ä</a>
              <a href="#">–ñ–∞—Ö–∏</a><a href="#">–§–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞</a><a href="#">–§–µ–Ω—Ç–µ–∑—ñ</a>
              <a href="#">–ö–æ—Ä–æ—Ç–∫–æ–º–µ—Ç—Ä–∞–∂–Ω—ñ</a><a href="#">–°—É–±—Ç–∏—Ç—Ä–∏</a>
            </div>
          </div>
        </div>
        <div class="dropdown">
          <a href="#" class="menu-series">–°–µ—Ä—ñ–∞–ª–∏</a>
          <div class="mega-menu mega-series">
            <div class="genres">
              <a href="#">–ë—ñ–æ–≥—Ä–∞—Ñ—ñ—è</a><a href="#">–ë–æ–π–æ–≤–∏–∫</a><a href="#">–î–µ—Ç–µ–∫—Ç–∏–≤</a>
              <a href="#">–î—Ä–∞–º–∞</a><a href="#">–ö–æ–º–µ–¥—ñ—è</a><a href="#">–ú–µ–ª–æ–¥—Ä–∞–º–∞</a>
              <a href="#">–§–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞</a><a href="#">–ñ–∞—Ö–∏</a><a href="#">–§–µ–Ω—Ç–µ–∑—ñ</a>
            </div>
          </div>
        </div>
        <div class="dropdown">
          <a href="#" class="menu-cartoons">–ú—É–ª—å—Ç—Ñ—ñ–ª—å–º–∏</a>
          <div class="mega-menu mega-cartoons">
            <div class="genres">
              <a href="#">–î–ª—è –¥—ñ—Ç–µ–π</a><a href="#">–ü–æ–≤–Ω–æ–º–µ—Ç—Ä–∞–∂–Ω—ñ</a>
              <a href="#">–ú—É–ª—å—Ç—Å–µ—Ä—ñ–∞–ª–∏</a><a href="#">Disney</a>
              <a href="#">DreamWorks</a><a href="#">Pixar</a>
            </div>
          </div>
        </div>
        <a href="#">–ù–æ–≤–∏–Ω–∫–∏</a>
        <a href="#">–ó–±—ñ—Ä–∫–∏ —Ñ—ñ–ª—å–º—ñ–≤</a>
      </nav>
      <div class="top-right">
        <input type="text" placeholder="–ü–æ—à—É–∫‚Ä¶" class="search" />
        <button class="profile-btn">üëë –ú—ñ–π –∫–∞–±—ñ–Ω–µ—Ç</button>
      </div>
    </div>
  </header>

  <!-- === BANNER === -->
<div class="container">
  <section class="banner-slider">
    <h2>üî• –¢–æ–ø 10 —Ñ—ñ–ª—å–º—ñ–≤</h2>
    <button class="slider-btn left" onclick="scrollSlider(-1)">‚ùÆ</button>
    <button class="slider-btn right" onclick="scrollSlider(1)">‚ùØ</button>
    <div class="slider-row" id="sliderRow">
      <div class="slide"><img src="https://i.postimg.cc/VLHxgJsg/dragon.jpg"><p>–î—Ä–∞–∫–æ–Ω –†–∞–¥–∂–∞</p></div>
      <div class="slide"><img src="https://i.postimg.cc/V6z1QntN/anemone.jpg"><p>–ê–Ω–µ–º–æ–Ω–∞</p></div>
      <div class="slide"><img src="https://i.postimg.cc/mkzLz6nK/enigma.jpg"><p>–ï–Ω—ñ–≥–º–∞</p></div>
      <div class="slide"><img src="https://i.postimg.cc/VvY5YBgJ/afterburn.jpg"><p>Afterburn</p></div>
      <div class="slide"><img src="https://i.postimg.cc/FFqXK6rL/epsilon.jpg"><p>–ï–ø—Å—ñ–ª–æ–Ω</p></div>
      <div class="slide"><img src="https://i.postimg.cc/L6PQ1RzM/volcano.jpg"><p>–°–º–µ—Ä—á—ñ 2024</p></div>
      <div class="slide"><img src="https://i.postimg.cc/qM0MYKnD/patriot.jpg"><p>–ü–∞—Ç—Ä—ñ–æ—Ç</p></div>
      <div class="slide"><img src="https://i.postimg.cc/d3zvTX6X/hero.jpg"><p>–Ü–¥–µ–∞–ª—å–Ω–∏–π –∑–ª–æ—á–∏–Ω</p></div>
      <div class="slide"><img src="https://i.postimg.cc/LX3n8M46/chains.jpg"><p>–£–≤—ñ–º–∫–Ω–∏ –º–µ–Ω–µ</p></div>
      <div class="slide"><img src="https://i.postimg.cc/Y0Lt8Tmn/freeze.jpg"><p>–¢–æ—á–∫–∞ –∑–∞–º–µ—Ä–∑–∞–Ω–Ω—è</p></div>
    </div>
  </section>
</div>



  <!-- === MAIN === -->
  <main>
    <div class="container film-container">
      <div class="film-left">
        <img id="filmPoster" src="" alt="–ü–æ—Å—Ç–µ—Ä">
        <div class="film-meta">
          <span><b>–†—ñ–∫:</b> <span id="filmYear"></span></span>
          <span><b>–ñ–∞–Ω—Ä:</b> <span id="filmGenre"></span></span>
          <span><b>–ö—Ä–∞—ó–Ω–∞:</b> <span id="filmCountry"></span></span>
          <span><b>–†–µ–∂–∏—Å–µ—Ä:</b> <span id="filmDirector"></span></span>
          <span><b>–í —Ä–æ–ª—è—Ö:</b> <span id="filmCast"></span></span>
          <span><b>–ó–≤—É–∫:</b> <span id="filmSound"></span></span>
          <span><b>–¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å:</b> <span id="filmDuration"></span></span>
          <span><b>–í—ñ–∫:</b> <span id="filmAge"></span></span>
          <span><b>IMDb:</b> <span id="filmImdb"></span></span>
        </div>
      </div>

      <div class="film-right">
        <div class="film-title" id="filmTitle">–ù–∞–∑–≤–∞ —Ñ—ñ–ª—å–º—É</div>
        <div class="player-box">
          <video id="filmPlayer" controls autoplay muted playsinline></video>
        </div>
        <div class="film-description">
          <h3>–ü—Ä–æ —â–æ —Ñ—ñ–ª—å–º:</h3>
          <p id="filmDesc">–û–ø–∏—Å —Ñ—ñ–ª—å–º—É...</p>
        </div>
      </div>
    </div>
  </main>

  <footer>¬© 2025 KinoSite ‚Ä¢ –£—Å—ñ –ø—Ä–∞–≤–∞ –∑–∞—Ö–∏—â–µ–Ω—ñ</footer>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script>
    const supabaseUrl = "https://zerlqvbmqszomlondlte.supabase.co";
    const supabaseKey = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InplcmxxdmJtcXN6b21sb25kbHRlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUzMzg3NzQsImV4cCI6MjA3MDkxNDc3NH0.8wUBYIeQRC6KVp6vdzv0oqofIf4PeZyzbV5GcD0vxTE";
    const supabase = window.supabase.createClient(supabaseUrl, supabaseKey);

    async function loadFilm() {
      const params = new URLSearchParams(window.location.search);
      const id = params.get("id");
      if (!id) return;
      const { data, error } = await supabase
        .from("films_site")
        .select("*")
        .eq("id", id)
        .single();

      if (error) {
        console.error("‚ùå –ü–æ–º–∏–ª–∫–∞ Supabase:", error.message);
        document.getElementById("filmTitle").textContent = "–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è";
        return;
      }
      if (!data) {
        document.getElementById("filmTitle").textContent = "–§—ñ–ª—å–º –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ";
        return;
      }

      document.getElementById("filmPoster").src = data.poster || "";
      document.getElementById("filmTitle").textContent = data.title || "";
      document.getElementById("filmDesc").textContent = data.description || "–û–ø–∏—Å –≤—ñ–¥—Å—É—Ç–Ω—ñ–π";
      document.getElementById("filmYear").textContent = data.year || "";
      document.getElementById("filmGenre").textContent = data.genre || "";
      document.getElementById("filmCountry").textContent = data.country || "";
      document.getElementById("filmDirector").textContent = data.director || "";
      document.getElementById("filmCast").textContent = data.cast || "";
      document.getElementById("filmSound").textContent = data.sound || "";
      document.getElementById("filmDuration").textContent = data.duration || "";
      document.getElementById("filmAge").textContent = data.age || "";
      document.getElementById("filmImdb").textContent = data.imdb || "‚Äî";

      const player = document.getElementById("filmPlayer");
      player.src = data.stream_url || "";

      // üü¢ –ê–≤—Ç–æ–≤—ñ–¥—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—ñ—Å–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
      player.addEventListener("canplay", () => {
        player.play().catch(() => {
          console.warn("üé¨ –ê–≤—Ç–æ–≤—ñ–¥—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤–∏–º–∫–Ω–µ–Ω–æ –±—Ä–∞—É–∑–µ—Ä–æ–º ‚Äî —á–µ–∫–∞—î–º–æ –≤–∑–∞—î–º–æ–¥—ñ—ó");
        });
      });
    }

    loadFilm();

    function scrollSlider(direction) {
      const slider = document.getElementById("sliderRow");
      const scrollAmount = 300;
      slider.scrollBy({ left: scrollAmount * direction, behavior: "smooth" });
    }
  </script>
</body>
</html>
