<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>KinoSite ‚Äî –û–Ω–ª–∞–π–Ω –∫—ñ–Ω–æ—Ç–µ–∞—Ç—Ä</title>
  <link rel="stylesheet" href="style.css" />
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">

</head>
<body>


<!-- === HEADER PLACEHOLDER === -->
<div id="header-placeholder"></div>

<script>
  fetch("header.html")
    .then(res => res.text())
    .then(html => {
      document.getElementById("header-placeholder").innerHTML = html;
    })
    .catch(err => console.error("–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ö–µ–¥–µ—Ä–∞:", err));
</script>



  <!-- === MAIN === -->
  <main>
    <div class="container">
 

      <!-- === –ë–ê–ù–ï–†-–°–õ–ê–ô–î–ï–† === -->
      <section class="banner-slider">
  <h2>üî• –¢–æ–ø 10 —Ñ—ñ–ª—å–º—ñ–≤</h2>

  <!-- –°—Ç—Ä—ñ–ª–∫–∏ -->
  <button class="slider-btn left" onclick="scrollSlider(-1)">‚ùÆ</button>
  <button class="slider-btn right" onclick="scrollSlider(1)">‚ùØ</button>

  <div class="slider-row" id="sliderRow"></div>
</section>

<!-- JS –∫–µ—Ä—É–≤–∞–Ω–Ω—è —Å–ª–∞–π–¥–µ—Ä–æ–º -->
<script>
  function scrollSlider(direction) {
    const slider = document.getElementById("sliderRow");
    const scrollAmount = 300; // –≤—ñ–¥—Å—Ç–∞–Ω—å –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –∑–∞ —Ä–∞–∑
    slider.scrollBy({
      left: scrollAmount * direction,
      behavior: "smooth",
    });
  }
</script>


      <!-- === –û–°–ù–û–í–ù–ê –°–Ü–¢–ö–ê === -->
<div class="main-grid">

  <!-- –õ—ñ–≤–∞ –∫–æ–ª–æ–Ω–∫–∞ (—Ç–µ–ø–µ—Ä –¥–æ–±—ñ—Ä–∫–∏) -->
  <aside class="sidebar">
    <div class="block">
      <h2>–ü—ñ–¥–±—ñ—Ä–∫–∏</h2>
    </div>
    <div class="pick"><img src="https://i.postimg.cc/QM8N4h7z/pick1.jpg"><p>—Ä—É*–Ω—è –æ—Ç—Ä–∏–º—É—î –ø–æ –∑–∞—Å–ª—É–≥–∞—Ö</p></div>
    <div class="pick"><img src="https://i.postimg.cc/4Nf0gQyT/pick2.jpg"><p>–ø—Ä–æ –Ω—ñ–Ω–¥–∑—è ‚öîÔ∏è —Ç–∞ —Å–∞–º—É—Ä–∞—ó–≤</p></div>
    <div class="pick"><img src="https://i.postimg.cc/j5gQxqQK/pick3.jpg"><p>–±–æ–π–æ–≤—ñ –º–∏—Å—Ç–µ—Ü—Ç–≤–∞ ü•ã</p></div>
    <div class="pick"><img src="https://i.postimg.cc/Vk0K2QmM/pick4.jpg"><p>–ë—ñ–±–ª—ñ–π–Ω—ñ –º–æ—Ç–∏–≤–∏ ‚úùÔ∏è</p></div>
    <div class="pick"><img src="https://i.postimg.cc/8kKpdt4Z/pick5.jpg"><p>–†–æ–º–∞–Ω—Ç–∏—á–Ω–µ —Ç–∞ —Å–º—ñ—à–Ω–µ üíï</p></div>

    <!-- === –ü—ñ–¥–∫–∞—Ç–µ–≥–æ—Ä—ñ—ó === -->

<div class="sub-category">
  <h3>üé¨ –ê–∫—Ç—É–∞–ª—å–Ω—ñ —Å–µ—Ä—ñ–∞–ª–∏</h3>
  <div class="mini-grid">
    <div class="mini-card"><img src="https://i.postimg.cc/zv2ZDb0b/serial1.jpg"><p>–ü–µ—Ä–µ–≤—ñ–∑–Ω–∏–∫–∏</p></div>
    <div class="mini-card"><img src="https://i.postimg.cc/dVVRB7D8/serial2.jpg"><p>–ï–Ω—ñ–≥–º–∞</p></div>
    <div class="mini-card"><img src="https://i.postimg.cc/fRsgwHKx/serial3.jpg"><p>–ú–∞—Ä–µ–≤–æ–∫—Ä–∞–π</p></div>
  </div>
</div>

<div class="sub-category">
  <h3>üç• –ê–∫—Ç—É–∞–ª—å–Ω—ñ –∞–Ω—ñ–º–µ</h3>
  <div class="mini-grid">
    <div class="mini-card"><img src="https://i.postimg.cc/tCxyY6Y4/gachiakuta.jpg"><p>–ì–∞—á—ñ–∞–∫—É—Ç–∞</p></div>
    <div class="mini-card"><img src="https://i.postimg.cc/9MFMG6rq/solo.jpg"><p>Solo Leveling</p></div>
    <div class="mini-card"><img src="https://i.postimg.cc/RV8r2csW/dragon.jpg"><p>–î—Ä–∞–∫–æ–Ω –†–∞–¥–∂–∞</p></div>
  </div>
</div>

<div class="sub-category">
  <h3>üß∏ –ú—É–ª—å—Ç—Å–µ—Ä—ñ–∞–ª–∏</h3>
  <div class="mini-grid">
    <div class="mini-card"><img src="https://i.postimg.cc/Vk52Mprx/mult1.jpg"><p>–ö–∞—á–∏–Ω—ñ —ñ—Å—Ç–æ—Ä—ñ—ó</p></div>
    <div class="mini-card"><img src="https://i.postimg.cc/JzzSTqzF/mult2.jpg"><p>–ü–∞–Ω–¥–∞ —ñ –¥—Ä—É–∑—ñ</p></div>
    <div class="mini-card"><img src="https://i.postimg.cc/d1b6KZ3J/mult3.jpg"><p>–°—ñ–º–ø—Å–æ–Ω–∏</p></div>
  </div>
</div>

  </aside>

  <!-- –ü—Ä–∞–≤–∞ –∫–æ–ª–æ–Ω–∫–∞ (—Ç–µ–ø–µ—Ä —Ñ—ñ–ª—å–º–∏) -->
  <div class="content">

    <div class="block">
      <h2>–û—Å—Ç–∞–Ω–Ω—ñ –Ω–∞–¥—Ö–æ–¥–∂–µ–Ω–Ω—è</h2>
    </div>
    <div id="films-list" class="film-grid"></div>
    <div class="block" style="margin-top:24px">
      <h2>üß© –ù–æ–≤—ñ —Å–µ—Ä—ñ–∞–ª–∏</h2>
    </div>
    <div id="series-list" class="film-grid"></div>

    <div class="pagination">
      <button>¬´</button>
      <button class="active">1</button>
      <button>2</button>
      <button>3</button>
      <button>¬ª</button>
    </div>
  </div>

</div><!-- /main-grid -->

    </div><!-- /container -->
  </main>

  <!-- === FOOTER === -->
  <footer>
    ¬© 2025 KinoSite ‚Ä¢ –£—Å—ñ –ø—Ä–∞–≤–∞ –∑–∞—Ö–∏—â–µ–Ω—ñ
  </footer>
<script>
  // üéûÔ∏è –ü–ª–∞–≤–Ω–∞ –ø–æ—è–≤–∞ —Ñ—ñ–ª—å–º—ñ–≤ –ø—Ä–∏ —Å–∫—Ä–æ–ª—ñ
  const films = document.querySelectorAll('.film');

  const observer = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.style.animationPlayState = 'running';
        observer.unobserve(entry.target);
      }
    });
  }, { threshold: 0.2 });

  films.forEach(film => {
    film.style.animationPlayState = 'paused';
    observer.observe(film);
  });
</script>
<!-- ‚úÖ –Ü–Ω—Ç—Ä–æ: –∫–æ—Ä–µ–∫—Ç–Ω–æ –∑–∞–∫—Ä–∏—Ç–∏–π —Å–∫—Ä–∏–ø—Ç -->
<script>
  // üïì –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –ø—Ä–∏—Ö–æ–≤—É–≤–∞–Ω–Ω—è —ñ–Ω—Ç—Ä–æ –ø—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∞–Ω—ñ–º–∞—Ü—ñ—ó
  window.addEventListener("load", () => {
    const intro = document.getElementById("intro");
    if (intro) {
      setTimeout(() => {
        intro.style.display = "none";
      }, 2500); // 2.5 —Å–µ–∫—É–Ω–¥–∏
    }
  });
</script>

<!-- ‚úÖ –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è Supabase -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
  // üîó –°—Ç–≤–æ—Ä—é—î–º–æ –∫–ª—ñ—î–Ω—Ç Supabase
  const supabaseUrl = "https://zerlqvbmqszomlondlte.supabase.co";
  const supabaseKey = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InplcmxxdmJtcXN6b21sb25kbHRlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUzMzg3NzQsImV4cCI6MjA3MDkxNDc3NH0.8wUBYIeQRC6KVp6vdzv0oqofIf4PeZyzbV5GcD0vxTE";
  const supabase = window.supabase.createClient(supabaseUrl, supabaseKey);
</script>
<script>
async function loadLatestFilms() {
  const container = document.getElementById("films-list");
  if (!container) return;
  container.innerHTML = "<p style='color:#aaa;'>–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</p>";

  const { data, error } = await supabase
    .from("films_site")
    .select("*")
    .eq("type", "–§—ñ–ª—å–º")
    .order("id", { ascending: false })
    .limit(20);

  if (error) {
    console.error("‚ùå –ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –æ—Å—Ç–∞–Ω–Ω—ñ—Ö:", error);
    container.innerHTML = `<p style="color:white;">–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è.</p>`;
    return;
  }
  if (!data?.length) {
    container.innerHTML = `<p style="color:white;">–ü–æ–∫–∏ —â–æ –Ω–µ–º–∞—î –Ω–∞–¥—Ö–æ–¥–∂–µ–Ω—å.</p>`;
    return;
  }

  container.innerHTML = "";
  data.forEach(item => {
    const card = document.createElement("div");
    card.className = "film";
    card.innerHTML = `
      <div class="poster">
        <img src="${item.poster || 'https://via.placeholder.com/200x300?text=No+Image'}" alt="${item.title || ''}">
        ${String(item.pro_access || '').toUpperCase() === 'PRO' ? '<span class="badge plus">PRO</span>' : ''}
      </div>
      <div class="title">${item.title || ''}</div>
      <div class="meta">
        <span>${item.genre || ''}</span> ‚Ä¢ 
        <span>${item.year || ''}</span> ‚Ä¢ 
        <span>IMDb: ${item.imdb || '‚Äî'}</span>
      </div>
    `;
    card.addEventListener("click", () => {
      window.location.href = "film.html?id=" + item.id;
    });
    container.appendChild(card);
  });
}
</script>
<script>
async function loadLatestSeries() {
  const container = document.getElementById("series-list");
  if (!container) return;
  container.innerHTML = "<p style='color:#aaa;'>–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</p>";

  const { data, error } = await supabase
    .from("films_site")
    .select("title, poster, id, type, season, episode")
    .eq("type", "–°–µ—Ä—ñ–∞–ª")
    .order("id", { ascending: false })
    .limit(40); // –±–µ—Ä–µ–º–æ –±—ñ–ª—å—à–µ, –±–æ –±—É–¥–µ–º–æ –≥—Ä—É–ø—É–≤–∞—Ç–∏

  if (error) {
    console.error("‚ùå –ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å–µ—Ä—ñ–∞–ª—ñ–≤:", error);
    container.innerHTML = `<p style="color:white;">–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è.</p>`;
    return;
  }
  if (!data?.length) {
    container.innerHTML = `<p style="color:white;">–ù–µ–º–∞—î —Å–µ—Ä—ñ–∞–ª—ñ–≤.</p>`;
    return;
  }

  // –ì—Ä—É–ø—É—î–º–æ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ —Å–µ—Ä—ñ–∞–ª–∏ –∑–∞ title (—â–æ–± –Ω–µ –¥—É–±–ª—é–≤–∞—Ç–∏ –∫–æ–∂–Ω—É —Å–µ—Ä—ñ—é)
  const map = new Map();
  data.forEach(row => {
    if (!map.has(row.title)) map.set(row.title, row);
  });

  container.innerHTML = "";
  [...map.values()].forEach(series => {
    const card = document.createElement("div");
    card.className = "film";
    card.innerHTML = `
      <div class="poster">
        <img src="${series.poster || 'https://via.placeholder.com/200x300?text=No+Image'}" alt="${series.title}">
      </div>
      <div class="title">${series.title}</div>
      <div class="meta"><span>–°–µ—Ä—ñ–∞–ª</span></div>
    `;
    card.addEventListener("click", () => {
      window.location.href = "series.html?title=" + encodeURIComponent(series.title);
    });
    container.appendChild(card);
  });
}

</script>
<script>
  // üî• –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¢–æ–ø-10 —Ñ—ñ–ª—å–º—ñ–≤
  async function loadTopFilms() {
    const slider = document.getElementById("sliderRow");
    if (!slider) return;
    slider.innerHTML = "<p style='color:#aaa;'>–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</p>";

    const { data, error } = await supabase
      .from("films_site")
      .select("*")
      .ilike("top", "%—Ç–æ–ø%")
      .not("poster", "is", null)
      .order("id", { ascending: false })
      .limit(10);

    if (error) {
      console.error("‚ùå –ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¢–û–ü:", error);
      slider.innerHTML = `<p style="color:white;">–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¢–û–ü.</p>`;
      return;
    }

    if (!data?.length) {
      slider.innerHTML = `<p style="color:white;">–ù–µ–º–∞—î —Ñ—ñ–ª—å–º—ñ–≤ —É –¢–û–ü—ñ.</p>`;
      return;
    }

    slider.innerHTML = "";
    data.forEach(film => {
      const card = document.createElement("div");
      card.className = "slide";
      card.innerHTML = `
        <img src="${film.poster || 'https://via.placeholder.com/200x300?text=No+Image'}" alt="${film.title || ''}">
        <p>${film.title || ''}</p>
      `;
      card.addEventListener("click", () => {
        window.location.href = "film.html?id=" + film.id;
      });
      slider.appendChild(card);
    });
  }

  // üöÄ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –∑–∞–ø—É—Å–∫
  document.addEventListener("DOMContentLoaded", () => {
    loadLatestFilms();
    loadLatestSeries();
    loadTopFilms();
  });
</script>
<script>
/* === üé¨ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –ø—ñ–¥–±—ñ—Ä–∫–∏ —Ç–∞ –±–æ–∫–æ–≤—ñ –±–ª–æ–∫–∏ === */

// üß© –†–∞–Ω–¥–æ–º–Ω—ñ –ü—ñ–¥–±—ñ—Ä–∫–∏ (—ñ–∑ —Ç–∞–±–ª–∏—Ü—ñ films_site, –¥–µ type = "–ó–±—ñ—Ä–∫–∞")
async function loadSidebarCollections() {
  const container = document.querySelector('.sidebar .block + .pick')?.parentElement;
  if (!container) return;

  const { data, error } = await supabase
    .from('films_site')
    .select('id, title, poster, type')
    .eq('type', '–ó–±—ñ—Ä–∫–∞');

  if (error || !data?.length) return;

  const random = data.sort(() => 0.5 - Math.random()).slice(0, 5);

  // –æ—á–∏—â–∞—î–º–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ –ø—ñ–¥–±—ñ—Ä–∫–∏
  const picks = container.querySelectorAll('.pick');
  picks.forEach(p => p.remove());

  random.forEach(item => {
    const div = document.createElement('div');
    div.className = 'pick';
    div.innerHTML = `
      <img src="${item.poster || 'https://via.placeholder.com/300x180?text=No+Image'}">
      <p>${item.title}</p>`;
    div.onclick = () => location.href = `/collections.html#${encodeURIComponent(item.title)}`;
    container.insertBefore(div, container.querySelector('.sub-category'));
  });
}

// üé¨ –ê–∫—Ç—É–∞–ª—å–Ω—ñ —Å–µ—Ä—ñ–∞–ª–∏
async function loadSidebarSeries() {
  const container = document.querySelector('.sub-category:nth-of-type(1) .mini-grid');
  if (!container) return;
  const { data, error } = await supabase
    .from('films_site')
    .select('title, poster, type')
    .eq('type', '–°–µ—Ä—ñ–∞–ª');

  if (error || !data?.length) return;
  const random = data.sort(() => 0.5 - Math.random()).slice(0, 3);
  container.innerHTML = '';
  random.forEach(item => {
    const div = document.createElement('div');
    div.className = 'mini-card';
    div.innerHTML = `
      <img src="${item.poster || 'https://via.placeholder.com/150x220?text=No+Image'}">
      <p>${item.title}</p>`;
    div.onclick = () => location.href = `/series.html?title=${encodeURIComponent(item.title)}`;
    container.appendChild(div);
  });
}

// üé• –ê–∫—Ç—É–∞–ª—å–Ω—ñ —Ñ—ñ–ª—å–º–∏
async function loadSidebarFilms() {
  const container = document.querySelector('.sub-category:nth-of-type(2) .mini-grid');
  if (!container) return;
  const { data, error } = await supabase
    .from('films_site')
    .select('id, title, poster, type')
    .eq('type', '–§—ñ–ª—å–º');

  if (error || !data?.length) return;
  const random = data.sort(() => 0.5 - Math.random()).slice(0, 3);
  container.innerHTML = '';
  random.forEach(item => {
    const div = document.createElement('div');
    div.className = 'mini-card';
    div.innerHTML = `
      <img src="${item.poster || 'https://via.placeholder.com/150x220?text=No+Image'}">
      <p>${item.title}</p>`;
    div.onclick = () => location.href = `/film.html?id=${item.id}`;
    container.appendChild(div);
  });
}

// üß∏ –ú—É–ª—å—Ç—Å–µ—Ä—ñ–∞–ª–∏
async function loadSidebarMult() {
  const container = document.querySelector('.sub-category:nth-of-type(3) .mini-grid');
  if (!container) return;
  const { data, error } = await supabase
    .from('films_site')
    .select('title, poster, type')
    .eq('type', '–ú—É–ª—å—Ç—Å–µ—Ä—ñ–∞–ª');

  if (error || !data?.length) return;
  const random = data.sort(() => 0.5 - Math.random()).slice(0, 3);
  container.innerHTML = '';
  random.forEach(item => {
    const div = document.createElement('div');
    div.className = 'mini-card';
    div.innerHTML = `
      <img src="${item.poster || 'https://via.placeholder.com/150x220?text=No+Image'}">
      <p>${item.title}</p>`;
    div.onclick = () => location.href = `/multseries.html?title=${encodeURIComponent(item.title)}`;
    container.appendChild(div);
  });
}

// üöÄ –ó–∞–ø—É—Å–∫–∞—î–º–æ –ø—ñ—Å–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏
document.addEventListener('DOMContentLoaded', () => {
  loadSidebarCollections();
  loadSidebarSeries();
  loadSidebarFilms();
  loadSidebarMult();
});
</script>


</body>
</html>

























